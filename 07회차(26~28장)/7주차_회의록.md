# 6주차\_회의록

## 26 - ES6 함수의 추가 기능

### 26.2 메서드

대진 - ES6 메서드는 내부 슬롯 `[[HomeObject]]`를 갖기에 `super`키워드를 사용할 수 있다. 이 이유로 메서드가 아닌 일반 함수는 `super`키워드를 호출할 수 없다.

```tsx
const base = {
  name: 'Lee',
  sayHi() {
    return `Hi! ${this.name}`;
  },
};

const derived = {
  __proto__: base,

  // 메서드
  sayHi() {
    return super.sayHi();
  },

  // 메서드가 아닌 일반 함수
  sayHi: function () {
    // SyntaxError: 'super' keyword unexpected here
    return super.sayHi();
  },
};

console.log(derived.sayHi());
```

### 26.3 화살표함수

서준 - 화살표 함수에서는 non-strict 모드에서도 중복된 파라미터 이름을 사용할 수 없는 점이 특이했다.

대진 - 렉시컬 this 부분이 흥미로웠다.
화살표 함수는 함수 자체의 `this`를 갖지 않으므로 화살표 함수 내부에서 `this`를 참조하면 상위 스코프의 `this`를 참조한다. 이를 lexical this라 한다. 마치 렉시컬 스코프처럼 화살표 함수의 `this`가 함수가 정의된 위치에 의해 결정된다는 것을 의미한다.

## 27 - 배열

### 27.2 JS 배열은 배열이 아니다.

대진 - 이 부분이 흥미로웠다. 사실 JS 배열은 C에서 보던 메모리 상으로 연속된 밀집 배열의 형태가 아니라 키-밸류 형태를 가지는 일반 객체로서 배열이 구현되었다. 해시테이블 형태인데, 이런 경우 밀집 배열에 비해 삽입, 삭제가 빠른 장점이 있다. JS는 이 장점을 살리고자 했던 것으로 보인다.

### 27.6 배열 요소의 추가

서준 - 크기 1의 배열의 100번째 인덱스에 요소를 추가하면 에러가 나지 않고 2~99가 undefined로 초기화되는 현상이 흥미로웠다.

### 27.8 배열 메서드

대진 - 메서드 중 기억해놓을 만한 메서드가 `flat`메서드였다. 중첩 배열을 평탄화하는 메서드다.

```tsx
[1, [2, 3, 4, 5]].flat(); // [1, 2, 3, 4, 5]
[1, [2, [3, [4]]]].flat(2); // [1, 2, 3, [4]]
[1, [2, [3, [4]]]].flat(Infinity); // [1, 2, 3, 4, 5]
```

### 27.9 배열 고차 함수

대진 - `sort, reduce`고차 함수가 흥미로웠다.

```tsx
const points = [40, 100, 1, 5, 2, 25, 10];
points.sort(); // [1, 10, 100, 2, 25, 40, 5] 의도대로 정렬되지 않는다.
```

`sort`메서드는 기본적으로 유니코드 코드 포인트 순서를 따른다. 배열의 요소를 일시적으로 문자열로 변환해 처리한다. 따라서 숫자 요소를 정렬할 때는 `sort`에 정렬 순서를 정의하는 비교 함수를 인수로 전달해야 한다.

```tsx
const points = [40, 100, 1, 5, 2, 25, 10];
// 숫자 배열의 오름차순 정렬. 비교 함수의 반환값이 0보다 작으면 a를 우선해서 정렬한다.
points.sort((a, b) => a - b);

const todos = [
  { id: 4, content: 'JS' },
  { id: 1, content: 'HTML' },
  { id: 2, content: 'CSS' },
];

function compare(key) {
  // 프로퍼티 값이 문자열인 경우 - 산술비교하면 NaN이므로 비교 연산을 사용
  return (a, b) => (a[key] > b[key] ? 1 : a[key] < b[key] ? -1 : 0);
}
todos.sort(compare('id'));
```

지혁 - 생각보다 이런 경우를 보면 JS에서 그렇게 많은 걸 해주는 것 같지 않다. 당연히 되어야 하는 것들이 안되는 부분들이 존재하기도 하는 것 같다. `sort`가 숫자를 바로 정렬을 할 수 없는 케이스 등,,
